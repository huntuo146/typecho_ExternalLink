🛡️ ExternalLinkGuard

> 为 Typecho 博客构建一道轻量、可靠、无侵入的外链安全防线。



ExternalLinkGuard 是一款专为 Typecho 设计的外链安全增强插件。
当访客点击站外链接时，插件会自动拦截请求并引导至统一的安全中转提示页，提醒用户注意外部站点风险，在不影响阅读体验的前提下，有效提升站点的专业形象与用户信任度。


---

✨ 功能亮点

🧠 智能识别引擎
自动分析页面中的链接，精准区分站内与站外地址。

🌉 安全中转页面
提供统一、简洁、美观的过渡提示页，降低误跳转风险。

🏳️ 灵活白名单机制
支持域名白名单配置，常用可信站点（如 GitHub、Google）可直接放行。

✍️ 高度可定制
支持在后台自由修改提示文案，兼容 HTML，轻松匹配站点风格。

🧩 零侵入设计
无需修改主题源码，即插即用，兼容主流 Typecho 主题。



---

📂 目录结构

ExternalLinkGuard/
├── Plugin.php   # 核心引擎：配置处理、钩子注册、拦截逻辑
├── Action.php   # 中转终端：渲染安全提示页面并执行跳转
└── README.md    # 项目说明文档


---

💿 安装指南

只需 四步 即可完成部署：

1. 📥 下载插件
克隆仓库或下载最新 Release 压缩包。


2. 🏷️ 重命名目录
解压后请务必将文件夹命名为 ExternalLink。


3. ⬆️ 上传插件
将目录上传至 Typecho 的
usr/plugins/ 路径下。


4. ✅ 后台激活
登录 Typecho 后台 →「插件管理」→ 找到 ExternalLinkGuard → 点击 启用。




---

⚙️ 配置说明

插件启用后，点击插件右侧的 「设置」 进入配置面板：

配置项	说明	示例

🏰 外链白名单	可信域名列表，白名单内链接将直接跳转	github.com<br>google.com<br>（一行一个）
💬 提示文案	中转页显示的安全提示内容，支持 HTML	您即将离开本站，请注意账号与财产安全


> 💡 提示
白名单支持 子域名泛解析。
例如填写 baidu.com，则 tieba.baidu.com、wenku.baidu.com 等都会被自动放行。




---

🔄 工作原理

每一次外链访问都会经过如下流程：

用户点击链接
        ↓
插件实时检测（是否为站外域名）
        ↓
白名单校验
   ├─ 是 → 直接跳转目标网站
   └─ 否
        ↓
拦截请求
        ↓
展示安全中转提示页
        ↓
用户确认后跳转


---

🛡️ 安全性与兼容性

✅ 运行环境
完全兼容 Typecho 1.2.0 及以上版本

🔒 隐私保护
坚持「三不原则」：

不收集用户数据

不记录点击日志

不进行任何用户追踪


⚡ 纯净轻量
不依赖 jQuery 或任何第三方库，不影响站点性能。



---

📜 开源协议

本项目基于 MIT License 发布。
你可以自由地使用、修改源码，或将其集成到个人及商业项目中。
